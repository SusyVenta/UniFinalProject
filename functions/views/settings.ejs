<!DOCTYPE html>
<html lang="en">

<head>
  <!-- SHARED HEAD -->
  <%- include('partials/sharedHead') %>

  <!-- css -->
  <link rel="stylesheet" href="/css/hero-image.css">
  <link rel="stylesheet" href="/css/generic.css">
  <link rel="stylesheet" href="/css/footer.css">
  <link rel="stylesheet" href="/css/settings.css">

  <!-- https://palcarazm.github.io/bootstrap5-toggle/ -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap5-toggle@5.0.4/css/bootstrap5-toggle.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap5-toggle@5.0.4/js/bootstrap5-toggle.ecmas.min.js"></script>

  <!-- JS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js" integrity="sha512-3gJwYpMe3QewGELv8k/BX9vcqhryRdzRMxVfq6ngyWXwo03GFEzjsUm8Q7RZcHPHksttq7/GFoxjCVUjkjvPdw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  
  <script src="/js/settings.js"></script>
</head>

<body>
  <div>
    <%- include('partials/header'); %>
  </div>
  <div class="outer-container">
    <div class="toggle-container">
      <label for="usersAcceptYourFriendshipRequest" class="form-label">Users accept your friendship requests</label>
      <% if (userSettings.usersAcceptYourFriendshipRequest === true) { %>
        <input id="usersAcceptYourFriendshipRequest" type="checkbox" data-toggle="toggle" 
          data-style="ios" class="notification-input" 
          onchange="updateNotificationSetting(this);"
          checked>
      <% } else { %>  
        <input id="usersAcceptYourFriendshipRequest" type="checkbox" data-toggle="toggle" 
          data-style="ios" class="notification-input"
          onchange="updateNotificationSetting(this);">
      <% } %> 
    </div>
    <div class="toggle-container">
      <label for="newFriendshipRequestReceived" class="form-label">You receive new friendship requests</label>
      <% if (userSettings.newFriendshipRequestReceived === true) { %>
        <input id="newFriendshipRequestReceived" type="checkbox" data-toggle="toggle" 
          data-style="ios" class="notification-input" 
          onchange="updateNotificationSetting(this);"
          checked>
      <% } else { %>  
        <input id="newFriendshipRequestReceived" type="checkbox" data-toggle="toggle" 
          data-style="ios" class="notification-input"
          onchange="updateNotificationSetting(this);">
      <% } %> 
    </div>
    <div class="toggle-container">
      <label for="pollRequiresInput" class="form-label">Poll requires your input</label>
      <% if (userSettings.pollRequiresInput === true) { %>
        <input id="pollRequiresInput" type="checkbox" data-toggle="toggle" 
          data-style="ios" class="notification-input"
          onchange="updateNotificationSetting(this);" 
          checked>
      <% } else { %>  
        <input id="pollRequiresInput" type="checkbox" 
          data-toggle="toggle" data-style="ios" class="notification-input"
          onchange="updateNotificationSetting(this);">
      <% } %> 
    </div>
    <div class="toggle-container">
      <label for="friendsRequestYourInput" class="form-label">Your friends request your input</label>
      <% if (userSettings.friendsRequestYourInput === true) { %>
        <input id="friendsRequestYourInput" type="checkbox" data-toggle="toggle" 
          data-style="ios" class="notification-input" 
          onchange="updateNotificationSetting(this);"
          checked>
      <% } else { %>  
        <input id="friendsRequestYourInput" type="checkbox" data-toggle="toggle" 
        data-style="ios" class="notification-input"
        onchange="updateNotificationSetting(this);">
      <% } %>
    </div>
    <div class="toggle-container">
      <label for="newCommentsAddedToPlans" class="form-label">New comments are added to plans</label>
      <% if (userSettings.newCommentsAddedToPlans === true) { %>
        <input id="newCommentsAddedToPlans" type="checkbox" data-toggle="toggle" 
        data-style="ios" class="notification-input"
        onchange="updateNotificationSetting(this);" 
        checked>
      <% } else { %>  
        <input id="newCommentsAddedToPlans" type="checkbox" 
        data-toggle="toggle" data-style="ios" class="notification-input"
        onchange="updateNotificationSetting(this);">
      <% } %>
    </div>
    <div class="toggle-container">
      <label for="newEventsAddedToPlans" class="form-label">New events are added to plans</label>
      <% if (userSettings.newEventsAddedToPlans === true) { %>
        <input id="newEventsAddedToPlans" type="checkbox" data-toggle="toggle" 
        data-style="ios" class="notification-input"
        onchange="updateNotificationSetting(this);" 
        checked>
      <% } else { %>  
        <input id="newEventsAddedToPlans" type="checkbox" data-toggle="toggle" 
        data-style="ios" class="notification-input"
        onchange="updateNotificationSetting(this);">
      <% } %>
    </div>
    <div class="toggle-container">
      <label for="allParticipantsVoted" class="form-label">All participants finish voting on an item / poll</label>
      <% if (userSettings.allParticipantsVoted === true) { %>
        <input id="allParticipantsVoted" type="checkbox" data-toggle="toggle" 
        data-style="ios" class="notification-input"
        onchange="updateNotificationSetting(this);"
        checked>
      <% } else { %>  
        <input id="allParticipantsVoted" type="checkbox" data-toggle="toggle" 
        data-style="ios" class="notification-input"
        onchange="updateNotificationSetting(this);">
      <% } %>
    </div>
  </div>
  
  <%- include('partials/footer'); %>
  <script>
    let inputs = document.getElementsByClassName('.notification-input');
    for (let input of inputs){
      input.bootstrapToggle();
    }
  </script>
</body>

</html>